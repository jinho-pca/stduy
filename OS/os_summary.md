# OS

- ## **스케줄링**

  다중 프로그래밍을 지원하는 운영체제에서 CPU 활용의 극대화를 위해 프로세스를 효율적으로 CPU에게 할당하는 것

- ## **스케줄링 알고리즘**

  - ### **선점형 스케줄링** : 한 프로세스가 CPU를 점유하고 있을 때 다른 프로세스가 CPU를 빼앗을 수 있는 방식

    - **라운드 로빈(RR : Round Robin)**
      - 여러 개의 프로세스에 시간 할당량이라는 작은 단위 시간이 정의되어 시간 할당량만큼 CPU를 사용하는 방식
      - 시분할 시스템을 위해 고안되었다.
      - FIFO 스케줄링을 선점형으로 변환한 방식으로 먼저 입력된 작업이더라도 할당된 시간 동안만 CPU를 사용할 수 있다.
      - 프로셋가 CPU에 할당된 시간이 경과될 때까지 작업을 완료하지 못하면 CPU는 다음 대기 중인 프로세스에게 사용 권한이 넘어가고 현재 실행 중이던 프로세스는 대기 리스트의 가장 뒤로 배치된다.
      - 적절한 응답 시간을 보장하는 대화식 사용자에게 효과적이다.
    - **SRT(Shortest Remaining Time)**
      - 작업이 끝나기까지 남아 있는 실행 시간의 추정치 중 가장 작은 프로세스를 먼저 실행하는 방식으로 새로 입력되는 작업까지도 포함한다.
      - SJF는 한 프로세스가 CPU를 사용하면 작업이 모두 끝날 때까지 계속 실행되지만, SRT는 남아 있는 프로세스의 실행 추정치 중 더 작은 프로세스가 있다면 현재 작업 중인 프로세스를 중단하고 작은 프로세스에게 CPU의 제어권을 넘겨준다.
      - 임계치(Threshold Value)를 사용한다.
    - **다단계 큐(MQ : Multi-Level Queue)**
      - 프로세스를 특정 그룹으로 분류할 경우 그룹에 따라 각기 다른 큐(대기 리스트)를 사용하며, 선점형과 비선점형을 결합한 방식이다.
      - 각 큐(대기 리스트)들은 자신보다 낮은 단계의 큐보다 절대적인 우선순위를 갖는다(각 큐는 자신보다 높은 단계의 큐에게 자리를 내주어야 한다.)
    - **다단계 피드백 큐(MFQ : Multi-Level Feedback Queue)**
      - 특정 그룹의 준비 상태 큐에 들어간 프로세스가 다른 준비 상태 큐로 이동할 수 없는 다단계 큐 방식을 준비 상태 큐 사이를 이동할 수 있도록 개선한 방식이다.
      - 각 큐마다 시간 할당량이 존재하며, 낮은 큐일수록 시간 할당량이 커진다.
      - 마지막 단계에서는 라운드 로빈(RR) 방식으로 처리한다.

  - ### **비선점형 스케줄링** : 한 프로세스에 CPU가 할당되면 작업이 완료되기 전까지 CPU를 다른 프로세스에 할당할 수 없는 방식

    - **FIFO(First Input First Output)**
      - 먼저 입력된 작업을 먼저 처리하는 방식으로 가장 간단한 방식이다.
      - 디스크 대기 큐에 들어온 순서대로 처리하기 때문에 높은 우선순위의 요청이 입력되어도 순서가 바뀌지 않지만 평균 반환 시간이 길다.
    - **SJF(Shortest Job First)**
      - 작업이 끝나기까지의 실행 시간 추정치가 가장 작은 작업을 먼저 실행시키는 방식이다.
      - 긴 작업들을 어느 정도 희생시키면서 짧은 작업들을 우선적으로 처리하기 때문에 대기 리스트 안에 있는 작업의 수를 최소화하면서 평균 반환 시간을 최소화할 수 있다.
    - **HRN(Highest Response-ratio Next)**
      - 서비스 시간(실행 시간 추정치)과 대기시간의 비율을 고려한 방식으로 SJF의 무한 연기 현상을 극복하기 위해 개발되었다.
      - 대기 리스트에 있는 작업들에게 합리적으로 우선순위를 부여하여 작업 간 불평등을 해소할 수 있다.
      - 프로그램의 처리 순서는 서비스 시간의 길이뿐만 아니라 대기 시간에 따라 결정된다.
      - (우선순위) = {(대기시간) + (서비스 시간)} / (서비스 시간) 이다.
    - **우선순위(Priority)**
      - 대기 중인 작업에 우선순위를 부여하여 CPU를 할당하는 방식이다.
      - 우선순위가 가장 빠른 작업부터 순서대로 수행한다.
    - **기한부(마감시간 : Deadline)**
      - 제한된 시간 내에 반드시 작업이 종료되도록 스케줄링하는 방식이다.
      - 작업이 완료되는 시간을 정확히 측정하여 해당 시간 만큼에 CPU의 사용 시간을 제한한다.
      - 동시에 많은 작업이 수행되면 스케줄링이 복잡해지게 된다는 단점이 있다.